<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NEWCOUNTRY - Upload Project</title>
  <link rel="stylesheet" href="css/styles.css">
  <!-- Firebase scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
</head>
<body>
  <header>
    <img src="https://i.imgur.com/jGRsVmw.jpeg" alt="NEWCOUNTRY Logo" class="logo" />
    <nav>
      <a href="index.html">Home</a>
      <a href="address.html">Address</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>
  <main>
    <h1>Upload New Project</h1>
    <!-- Password section: Only you (admin) can enter the password -->
    <div id="passwordSection">
      <label for="adminPassword">Enter Admin Password:</label>
      <input type="password" id="adminPassword" placeholder="Password">
      <button onclick="checkPassword()">Submit</button>
    </div>
    <!-- Upload form: hidden until admin is authenticated -->
    <div id="uploadForm" style="display:none;">
      <form onsubmit="event.preventDefault(); uploadProject();">
        <label for="fileInput">File (Image/Video):</label>
        <input type="file" id="fileInput" accept="image/*,video/*" required>
        <br>
        <label for="descriptionInput">Description:</label>
        <input type="text" id="descriptionInput" placeholder="Project Description" required>
        <br>
        <label for="priceInput">Price:</label>
        <input type="text" id="priceInput" placeholder="Price" required>
        <br>
        <button type="submit">Upload Project</button>
      </form>
      <br>
      <button onclick="logoutAdmin()">Logout Admin</button>
    </div>
  </main>
  <script src="js/main.js"></script>
  <script>
    // If admin already logged in, show the upload form immediately
    if (localStorage.getItem("isAdmin") === "true") {
      document.getElementById("passwordSection").style.display = "none";
      document.getElementById("uploadForm").style.display = "block";
    }
  </script>
</body>
</html>
